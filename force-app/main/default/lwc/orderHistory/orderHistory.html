<template>
    
    <lightning-card title="Purchase Orders" variant="Narrow" icon-name="standard:account">

        <template if:true={previousOrders}>
            <lightning-datatable 
                key-field="Id"
                data={previousOrders}
                columns={orderColumns}
                hide-checkbox-column>

            </lightning-datatable>
        </template>

        <lightning-button label="Add New Purchase Order"
                          onclick={handleStartOrder}
                          class="slds-m-top_medium">
        </lightning-button>

        <template if:true={showProductTable}>
            <c-product-comp onaddtocart={handleAddToCart}></c-product-comp>
        </template>


        <template if:true={showCart}>
            <c-cart-item 
                cart-items={cartItems}
                onupdatecart={handleUpdateCart}
                onremove={handleRemoveFromCart}>
            </c-cart-item>
        </template>


         <!--  Checkout Button -->
        <template if:true={showCart}>
            <lightning-button
                class="slds-m-top_medium"
                label="Checkout"
                onclick={handleCheckout}
                variant="brand">
            </lightning-button>
        </template>

        <template if:true={showSummary}>
            <c-order-summary cart-items={cartItems}
                             onplaceorder={handlePlaceOrder}>
            </c-order-summary>
        </template>


    </lightning-card>


</template>